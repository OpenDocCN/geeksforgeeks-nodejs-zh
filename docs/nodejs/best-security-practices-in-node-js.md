# node . js 中的最佳安全实践

> 原文:[https://www . geesforgeks . org/best-security-practices-in-node-js/](https://www.geeksforgeeks.org/best-security-practices-in-node-js/)

当我们构建一个高度可扩展的大项目时，应用程序的安全性极其重要。因此，在本文中，我们将讨论在 Node.js 项目中需要遵循的一些最佳实践，以便在稍后的时间点不会出现安全问题。
在本文中，我们将讨论一些常见的攻击，并给出防止这些攻击的建议:
**受损数据库:**首先也是最重要的一点是，如果我们不保护数据库，数据库和攻击者将获得对数据库的访问权限。因此，为了确保安全，我们需要遵循以下两点:

*   **使用 salt 和 hash 对密码进行强加密:**要在 express app 中对密码进行加密，我们将使用 bcyrpt.js 包，该包将对密码进行加密，并将其转换为攻击者不可读的哈希代码。
*   **强加密密码重置令牌:**每当用户要休息密码时，都要生成一个新的重置密码 hashcode，这样攻击者就看不懂了。

**蛮力攻击:**在蛮力攻击中，攻击者不断尝试生成随机密码。在这种情况下，攻击者试图通过生成数百万个密码来猜测密码，直到找到正确的密码。那么如何避免和防范这些类型的攻击呢:

*   **使用 bcrypt.js 包:**存储到数据库时对密码进行哈希。
*   **实施限速:**在限速中，限制来自单个 IP 的请求数量。
*   **为每个用户实施最大登录尝试次数:**您可以设置一个限制，在一些失败的登录尝试后，您将无法登录，直到某个特定的时间。

**跨站点脚本(XSS)攻击:** XSS 攻击，攻击者试图在我们的代码中注入一些恶意脚本，以便找到一些漏洞并从中受益。这种类型的攻击是危险的，因为这允许攻击者在客户端读取本地存储。这就是为什么我们不建议在本地存储中存储 JWT 令牌的原因。
如何防止这些类型的攻击:

*   **在 HTTPonly cookies 中存储 JWT 令牌:**从不在本地存储中存储 JWT 令牌始终使用仅 HTTP cookie。
*   **净化用户输入数据:**通过净化用户输入数据，意味着我们限制用户不输入怪异的数据。
*   **设置特殊的 HTTP 头:**您可以使用 npm 内置包来添加一些特殊的头，这样有助于提高安全性。头盔将设置各种 HTTP 头，以帮助保护您的应用程序。

**拒绝服务(DOS)攻击:**在 DOS 攻击中，攻击者向服务器发出如此多的请求，以至于服务器崩溃，用户无法使用，他们确实在那里工作，因此如何防止此类攻击有许多方法可以防止它们:

*   **实施速率限制:**通过使用速率限制，您可以轻松防止此类攻击，您可以构建一个速率限制功能，通过该功能，您可以限制用户发出的请求数量。
*   **限制主体负载:**我们还可以限制主体负载中发送的数据量，这样负载就不会高到导致我们的应用程序崩溃。
*   **避恶正则表达式:**这是针对非匹配输入需要指数时间运行的正则表达式。

**NoSql 查询注入:**当攻击者不输入有效数据而注入一些查询时，就会发生这种类型的攻击，这些查询将导致某些字段为真，而没有正确的数据，例如在用户名字段中，攻击者放入一些数据，这些数据将导致真，这样，攻击者就可以访问您的私有数据。为了避免这种情况，请使用 Mongoose for MongoDB，它提供了模式验证，因此您可以轻松地根据验证并防止此类攻击。

**其他最佳实践:**

*   **创建**随机密码，重置有到期日期的令牌。
*   **密码更改后拒绝访问 JWT 令牌**。
*   不要在 git 上提交**敏感数据或配置**。
*   始终使用**双因素认证。**
*   总是花尽可能多的时间在应用的**认证、授权和安全**功能上。